/**
 * =============================================================================
 * ************   Fab 浮动操作按钮   ************
 * =============================================================================
 */

@button-fab-size: 56px;
@button-fab-size-mini: 40px;

.mdui-btn-fab,
.mdui-btn-fab-mini {
  border-radius: 50%;
  font-size: 24px;
  margin: auto;
  padding: 0 !important;
  overflow: hidden;
  line-height: normal !important;
  .mdui-shadow(6);

  &:hover{
    .mdui-shadow(8);
  }

  &:active {
    .mdui-shadow(12);
  }
}

/* 浮动操作按钮 */
.mdui-btn-fab {
  height: @button-fab-size;
  width: @button-fab-size;
  min-width: @button-fab-size;
}

/* mini 型浮动操作按钮 */
.mdui-btn-fab-mini {
  height: @button-fab-size-mini;
  width: @button-fab-size-mini;
  min-width: @button-fab-size-mini;
}

/* 浮动操作按钮中的图标 */
.mdui-btn-fab,
.mdui-btn-fab-mini {
  .mdui-icon {
    position: absolute;
    top: 0;
    left: 0;
    line-height: 24px;
    width: 24px;
  }
}
.mdui-btn-fab {
  .mdui-icon {
    margin-left: 16px;
    margin-top: 16px;
  }
}
.mdui-btn-fab-mini {
  .mdui-icon {
    margin-left: 8px;
    margin-top: 8px;
  }
}

/* 固定到右下角的 FAB 按钮 */
.mdui-btn-fab-fixed,
.mdui-btn-fab-wrapper {
  position: fixed !important;

  /* 手机平板上距离屏幕右下角 16px */
  right: 16px;
  bottom: 16px;

  @media (min-width: @screen-md-min) {
    /* 电脑上距离屏幕右下角 24px */
    right: 24px;
    bottom: 24px;
  }
}

/* 含菜单的浮动操作按钮 */
.mdui-btn-fab-wrapper {
  position: relative;
  width: @button-fab-size;
  height: @button-fab-size;
  padding-top: 8px;
  z-index: @z-index-fab;

  // 菜单打开前
  &>.mdui-btn {
    .mdui-icon:not(.mdui-btn-fab-opened) {
      will-change: opacity, transform;
      transition: all .2s @animation-curve-default;
      opacity: 1;
    }
    .mdui-icon.mdui-btn-fab-opened {
      will-change: opacity, transform;
      transition: all .2s @animation-curve-default;
      opacity: 0;
      transform: rotate(225deg);
    }
  }

  // 菜单打开后
  &>.mdui-btn.mdui-btn-fab-opened {
    .mdui-icon:not(.mdui-btn-fab-opened) {
      opacity: 0;
      transform: rotate(225deg);
    }
    .mdui-icon.mdui-btn-fab-opened {
      opacity: 1;
      transform: rotate(360deg);
    }
  }

  .mdui-btn-fab-dial {
    visibility: visible;
    position: absolute;
    left: 0;
    right: 0;
    bottom: @button-fab-size + 8px;
    text-align: center;

    .mdui-btn {
      margin: 8px 0;
      transition: box-shadow .2s @animation-curve-fast-out-linear-in,
                  color .2s @animation-curve-default,
                  // fab
                  transform 150ms @animation-curve-default,
                  opacity 150ms @animation-curve-default;
      transform: scale(0);
      opacity: 0;
    }

    &.mdui-btn-fab-dial-show {
      .mdui-btn {
        transform: scale(1);
        opacity: 1;
      }
    }
  }
}

/* 添加类 .mdui-btn-fab-hide 以动画的形式隐藏按钮 */
.mdui-btn-fab,
.mdui-btn-fab-mini,
.mdui-btn-fab-wrapper {
  will-change: transform;
  transition: box-shadow .2s @animation-curve-fast-out-linear-in,
              color .2s @animation-curve-default,
                // fab
              transform .2s;
  transform: scale(1) translateZ(0);

  &.mdui-btn-fab-hide {
    transform: scale(0) translateZ(0);
  }
}
